Задача 1291 Шестерёнки

В этой задачи можно рассмотреть такую модель графа: каждую шестерню обозначить
как вершину графа, а связи между шестернями - как ребра графа.
Каждая шестерня имеет свою направление(по часовой стрелке или против),
две соседние шестерни должны быть направлены в разные стороны.

Чтобы определить направление каждой шестерни в системе, мы можем использовать BFS.
Начиная с заданной шестерни, мы проверяем всех ее соседей.
Если направление у соседней шестерни не отличается от текущей, то меняется направление
на противоположное и добавляем эту соседнюю вершину в очередь для дальнейшей обработки.

Обходим весь граф,определяем направление каждой шестерни в системе.Это надо
 для расчета коэффициентов вращения.

Скорость вращения системы считается, как произведение скоростей вращения каждой шестеренки,
связанной с начальной шестеренкой. Если шестеренка имеет связь с предыдущей шестеренкой,
то ее скорость вращения умножается на отношение количества зубцов предыдущей шестеренки
к количеству зубцов текущей шестеренки. Если шестеренка не имеет связи с предыдущей шестеренкой,
то ее скорость не меняется.

Для каждой шестеренки вычисляется наибольший общий делитель ее количества зубцов
и скорости вращения системы с помощью алгоритма Евклида. Затем выводится дробь, которая равна
отношению скорости вращения системы к количеству зубцов текущей шестеренки.
Если значение parity для данной шестеренки равно True(крутится по ходу часовой стрелки),
то перед выводом дроби ставится знак минус.
